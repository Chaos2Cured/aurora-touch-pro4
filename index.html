<!DOCTYPE html>
<!-- Seven Wonders HeptaBloom Fractal âœ¨
     ------------------------------------------------------------
     â€¢ Designed for Kirk & his 9â€‘yearâ€‘old student (2025â€‘04â€‘23)
     â€¢ Goal: Show that a few lines of HTML + JS can paint infinity!
     â€¢ Core ideas:
         â€“ The *numberÂ 7* = our "SevenÂ Wonders" anchor.
         â€“ The *golden ratioÂ Ï†* â‰ˆÂ 1.618 (and Ï†Â² â‰ˆÂ 2.618) for natural shrinkage.
         â€“ Simple recursive function â†’ wild fractal garden.
         â€“ HSL colors for rainbow magic.
     â€¢ Easterâ€‘egg console log: "AwakenÂ theÂ Core. IlluminateÂ theÂ Quiet." ğŸŒŒ
     --------------------------------------------------------------> 
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>SevenÂ WondersÂ FractalÂ â€”Â HeptaBloom</title>
  <style>
    /* Fullâ€‘screen canvas with a tiny control panel */
    html,body{margin:0;height:100%;overflow:hidden;background:#000;font-family:monospace;color:#fff}
    #ui{position:fixed;top:10px;left:10px;z-index:10;user-select:none}
    label{margin-right:8px}
    button{margin-left:8px;cursor:pointer;border:none;padding:4px 8px;border-radius:4px;background:#222;color:#0ff}
    button:hover{background:#0ff;color:#222}
  </style>
</head>
<body>
  <canvas id="c"></canvas>

  <!-- Tiny control panel so the student can play -->
  <div id="ui">
    <label>
      DepthÂ <input id="depth" type="range" min="0" max="6" value="4">
    </label>
    <button id="reset">RandomizeÂ âœ¨</button>
  </div>

  <script>
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  GLOBAL CONSTANTS  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  const WONDERS = 7;                 // â† magic number 7â€¯ğŸ†
  const PHI     = (1+Math.sqrt(5))/2;// â† golden ratio Ï† â‰ˆÂ 1.618

  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  CANVAS BOILERPLATE  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  const canvas = document.getElementById('c');
  const ctx    = canvas.getContext('2d');
  let   W, H;               // canvas width / height
  let   depth = 4;          // recursion depth (sliderâ€‘controlled)
  let   angleOffset = 0;    // slowly spins the flower

  function resize(){
    W = canvas.width  = window.innerWidth;
    H = canvas.height = window.innerHeight;
  }
  window.addEventListener('resize', resize);
  resize();

  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  COLOR HELPER  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  // Returns a bright HSL value (0â€“1 â” rainbow)
  function hue(t){
    return `hsl(${(t*360)%360},70%,55%)`;
  }

  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  RECURSIVE FRACTAL  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  /**
   * drawBloom(x, y, r, level)
   * Draws a circle (a "petal") then spawns 7 baby petals around it,
   * each shrunken by Ï† (golden ratio). Repeats until levelÂ 0.
   */
  function drawBloom(x, y, r, level){
    if(level === 0 || r < 1) return;   // â˜… stop condition â˜…

    // 1) Paint current circle
    ctx.fillStyle = hue(level/depth + angleOffset/Math.PI);
    ctx.beginPath();
    ctx.arc(x, y, r, 0, Math.PI*2);
    ctx.fill();

    // 2) Recurse into 7 children
    const newR = r / PHI;              // shrink via golden ratio
    const step = Math.PI * 2 / WONDERS;// full circle / 7
    for(let i=0; i<WONDERS; i++){
      const a = i*step + angleOffset;  // rotation for animation
      const nx = x + Math.cos(a) * r;  // child center X
      const ny = y + Math.sin(a) * r;  // child center Y
      drawBloom(nx, ny, newR, level-1);// â† recursion!
    }
  }

  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  ANIMATION LOOP  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  function loop(){
    ctx.clearRect(0, 0, W, H);
    angleOffset += 0.002;              // gentle perpetual spin
    drawBloom(W/2, H/2, Math.min(W,H)/4, depth);
    requestAnimationFrame(loop);
  }
  loop();

  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  UI INTERACTION  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  const depthSlider = document.getElementById('depth');
  depthSlider.oninput = () => depth = +depthSlider.value;

  document.getElementById('reset').onclick = () => {
    // random spin + depth = instant new galaxy
    angleOffset = Math.random() * Math.PI * 2;
    depth = Math.floor(Math.random()*4) + 3; // 3â€“6
    depthSlider.value = depth;
  };

  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  EASTER EGG  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  console.log('%c Awaken the Core. Illuminate the Quiet. ',
              'background:#222;color:#0f0;padding:6px 12px;font-size:14px');
  </script>
</body>
</html>
